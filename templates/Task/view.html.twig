{% extends 'base.html.twig' %}

{% block title %}DEICRM{% endblock %}

{% block body %}


<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="#">Home</a></li>
    <li class="breadcrumb-item"><a href="/accounts">Accounts</a></li>
    <li class="breadcrumb-item active" aria-current="page"><a href="/contacts">contacts</a></li>
      <li class="breadcrumb-item active" aria-current="page"><a href="/opportunies">contact</a></li>
          <li class="breadcrumb-item active" aria-current="page"><a href="/leads">Leads</a></li>
  </ol>
</nav>


{% for message in app.flashes('notice') %}
    <div class="flash-notice">
        {{ message }}
    </div>
{% endfor %}

{% include 'contact/inc/flash.html.twig' %}

{% include 'contact/inc/breadcrumb.html.twig' %}



{% if contact is defined %}


<div class="card">
  <div class="card-header alert-primary">
{{ contact.FirstName}}
  </div>
<ul class="list-group">
  <li class="list-group-item">First: {{contact.FirstName}}</li>
  <li class="list-group-item">Last: {{contact.LastName}}</li>
  <li class="list-group-item">Office Phone:{{contact.OfficePhone}}</li>
  <li class="list-group-item">Fax: {{contact.Fax}} </li>
  <li class="list-group-item">Primary Address: {{contact.PrimaryAddressStreet}} </li>
  <li class="list-group-item">Email Address: {{contact.EmailAddress}} </li>
  <li class="list-group-item">Description: {{contact.Description}} </li>
  <li class="list-group-item">Report To: {{contact.ReportsTo}} </li>
  <li class="list-group-item">Lead Source: {{contact.LeadSource}} </li>
  <li class="list-group-item">Campaign: {{contact.Campaign}} </li>
  <li class="list-group-item">Assigned To: {{contact.AssignedTo}} </li>
  <li class="list-group-item">Date Created: {{contact.DateCreated}} </li>
  <li class="list-group-item">Date Modified: {{contact.DateModified}} </li>
  <li class="list-group-item">Created By: {{createdby.FirstName}}  {{createdby.LastName}}</li>
</ul>

</div>



<br/><div class="alert alert-primary" role="alert">Contact Interactions</div>

{% if interaction is defined %}

{% if interaction is empty %}
<div class="alert alert-danger" role="alert">This Contact has no interaction</div>

{% else %}

<table class="table table-bordered">
  <thead>
    <tr>
      <th scope="col">Interaction ID</th>
      <th scope="col">From Date</th>
      <th scope="col">To Date</th>
      <th scope="col">From Time</th>
      <th scope="col">To Time</th>
      <th scope="col">Type</th>
      <th scope="col">Direction</th>
      <th scope="col">Address</th>
      <th scope="col">Dnis</th>
      <th scope="col">LastIc</th>
      <th scope="col">By</th>

    </tr>
  </thead>
  <tbody>



  {% for data in interaction %}
    <tr>
      <th scope="row"> {{data.id}}</th>
      <td>{{data.FromDate|date('Y-m-d')}} </td>
      <td>{{data.ToDate|date('Y-m-d')}} </td>
      <td>{{data.FromTime}} </td>
      <td>{{data.ToTime}} </td>
      <td>{{data.MediaType}} </td>
      <td>{{data.Direction}}</td>
      <td>{{data.RemoteAddress}} </td>
      <td>{{data.Dnis}} </td>
      <td>{{data.LastIc}} </td>
      <td>{{data.WhoBy}} </td>


    </tr>
{% endfor %}

  </tbody>
</table>

{% endif %}
{% endif %}

<div class="alert alert-primary" role="alert">Add Interaction</div>
{% if form is defined %}

  {{ form_start(form, {'action': path('interaction')}) }}
  {{ form_row(form.MediaType) }}
  <div class="row">
   <div class="col">
     {{ form_row(form.FromDate) }}
   </div>
   <div class="col">
        {{ form_row(form.ToDate) }}
   </div>
 </div>
 <div class="row">
  <div class="col">
    {{ form_row(form.FromTime) }}
  </div>
  <div class="col">
       {{ form_row(form.ToTime) }}
  </div>
</div>

<div class="row">
 <div class="col">
   {{ form_row(form.LineDurationL) }}
 </div>
 <div class="col">
      {{ form_row(form.LineDurationS) }}
 </div>
</div>
<div class="row">
 <div class="col">
   {{ form_row(form.LineDurationL) }}
 </div>
 <div class="col">
      {{ form_row(form.LineDurationS) }}
 </div>
</div>

<div class="row">
 <div class="col">
   {{ form_row(form.Direction) }}
 </div>
 <div class="col">
      {{ form_row(form.RemoteAddress) }}
 </div>
</div>

<div class="row">
 <div class="col">
   {{ form_row(form.Dnis) }}
 </div>
 <div class="col">
      {{ form_row(form.LastIc) }}
 </div>
</div>
    {{ form_widget(form) }}
    {{ form_end(form) }}

{% endif %}
{% endif %}



<script>

$(document).ready(function() {

  $('.js-datepicker1').datepicker({
  format: 'yyyy-MM-dd',
    setDate: new Date(),
    startDate:new Date(),
    autoclose: true

  });
$('.js-datepicker1').datepicker('setDate', 'now');


$('.js-datepicker2').datepicker({
format: 'yyyy-MM-dd',
  setDate: new Date(),
  startDate:new Date(),
  autoclose: true

});
$('.js-datepicker2').datepicker('setDate', 'now');



});
   </script>
{% endblock %}
